---
import {getCollection} from 'astro:content';
import PageContentLayout from '@layouts/PageContentLayout.astro';
import PageLayout from '@layouts/PageLayout.astro'
import SideNav from '@components/SideNav.astro'
import oasisLogo from '@assets/images/logo-ordering-guide.png';

export async function getStaticPaths() {
  const pages = await getCollection('ordering-guide');
  return pages.map((entry, index) => {
    const slug = entry.slug == './' ? undefined : entry.slug
    return {params: {slug: slug }, props: { entry, pages, index }}
  })
}
const { entry, pages } = Astro.props;
const { Content, headings, remarkPluginFrontmatter:{last_modified} } = await entry.render(); 
---
<!-- Cover Page Section -->

<PageLayout title={entry.data.title} description={entry.data.description} last_modified={last_modified}>
  <div class="cover-page" id="print-cover-page">
    <img src={oasisLogo.src} alt="OASIS Plus Logo" class="margin-top-1"  />
    <h1>Ordering Guide</h1>
    <p>
     <strong>Consolidated for: </strong> 
     <ul>
      <li>Small Business</li>
      <li>Unrestricted</li>
      <li> Women-Owned Small Business</li>
      <li>HubZone Small Business</li>
      <li>8(a) Small Business and Service-Disabled Veteran-Owned Small Business  </li>
      <li>Task Order Procurements</li>
     </ul>
      
    </p>
    <p><strong>Initial Release Date:</strong> 03/19/2024 </p>
    <p><strong>Revision Date:</strong> Not Applicable </p>
    <p>Contact the OASIS+ Program: <a href="mailto:oasisplus@gsa.gov">oasisplus@gsa.gov</a></p>
  </div>
    
    <SideNav 
    title="Ordering Guide"
    parent_path="ordering-guide"
    pages={pages}
    headings={headings}
    id={entry.id}
    />
    <PageContentLayout
      title={entry.data.title}
      id="header-hidden-for-print"
    >
      <button id="print_button" class="usa-button usa-button--outline" onclick="window.print()">
        <span class="display-block" aria-hidden="true">
          <svg class="usa-icon text-primary text-middle" aria-hidden="true" role="img">
            <use xlink:href=`${import.meta.env.BASE_URL}images/sprite.svg#print`></use>
          </svg> Print
        </span>
      </button>
       
      <Content />
    </PageContentLayout>
  </PageLayout>

  <style is:global>
    /* turn off box that points to this page */
    aside:first-of-type {display: none}
    .cover-page {
        display: none; /* Initially hidden */
        text-align: center;
        margin-top: 4em;
    }

    .cover-page ul {
    list-style-type: none;
    }

    @media print {
      #print_button {display: none;}
      #oasis-side-nav{display:none;}
      #oasis-menu-button {display:none;}
      #oasis-footer{display:none;}
      #print-cover-page{display:block;}
      #header-hidden-for-print{display:none;}

      .usa-logo-img {display:none}
      .usa-prose h1 { break-before: page; }
      nav.usa-nav {display: none;}
      div.usa-navbar {border: none;}
      .usa-banner {display: none;}
      
      button.usa-menu-btn {display: none;}
      main {margin-top: 33%}
      div h1.text-primary{
        padding-top: 1em;
        page-break-after: auto;
      }
      section.bg-primary {
        background-color: white;
        border-bottom: 1px solid black;
      }
      section.bg-primary h1 {
        margin-top: .125in;
      }
      section.bg-primary span {
        color: black;
      }
      table {break-inside: avoid; }
      @page {
       
        margin-top: 0.5in;
        margin-left: .75in;
        margin-right: .75in;
        margin-bottom: 0.6in;
      }
    
  }
  </style>