---
/**
 * The site navigation menu under the header. 
 * This component will look for menu content in the yaml file in src/nav/content
 */
 import PrimaryMenuItem from '@components/PrimaryMenuItem.astro';
import closeIcon from '@assets/images/usa-icons/close.svg'

import { getEntry } from 'astro:content';
const menuData = await getEntry('nav', 'menu');
const gsaMenuData = await getEntry('nav', 'gsa-menu');
---
<button type="button" class="usa-nav__close">
  <img src={ closeIcon.src } alt="Close" />
</button>

<ul id='header_main_menu' class="usa-nav__primary usa-accordion">
  {
    menuData.data.map(menu => (
      <PrimaryMenuItem 
        title={ menu.title }
        href={ menu.href } 
        submenu={ menu.submenu }
      />
    ))
  }
  {
    gsaMenuData.data.map(menu => (
      <PrimaryMenuItem 
        title={ menu.title }
        href={ menu.href } 
        submenu={ menu.submenu }
      />
    ))
  }
</ul>
    
    

