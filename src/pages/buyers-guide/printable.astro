---
import {getCollection} from 'astro:content';
import PageContentLayout from '@layouts/PageContentLayout.astro';
import PageLayout from '@layouts/PageLayout.astro'
import oasisLogo from '@assets/images/logo-ordering-guide.png';
import PageContentLayoutWideScreen from '@layouts/PageContentLayoutWideScreen.astro';

const pages = await getCollection('buyers-guide');
const content_components = pages.map(async entry => (
  {...entry, Content: (await entry.render()).Content}
))

const entries = await Promise.all(content_components)
const page_title="Buyer's ordering guide"

---

<PageLayout title={page_title} description="to-do">
    <PageContentLayoutWideScreen title={page_title}>
        <button id="print_button" class="usa-button usa-button--outline" onclick="window.print()">
            <span class="display-block" aria-hidden="true">
              <svg class="usa-icon text-primary text-middle" aria-hidden="true" role="img">
                <use xlink:href=`${import.meta.env.BASE_URL}images/sprite.svg#print`></use>
              </svg> Print
            </span>
          </button>

        {entries.map(item => (  
            <div class="usa-prose" style="page-break-after: auto;">
              <h1 class="text-primary">{item.data.title}</h1> 
              <item.Content />
            </div>
          ))}
    </PageContentLayoutWideScreen>
</PageLayout>

<style is:global>
    /* turn off box that points to this page */
    aside:first-of-type {display: none}
    .cover-page {
        display: none; /* Initially hidden */
        text-align: center;
        margin-top: 4em;
    }

    .cover-page ul {
    list-style-type: none;
    }

    @media print {
      #print_button {display: none;}
      .usa-layout-docs__sidenav{display:none;}
      #oasis-menu-button {display:none;}
      #oasis-footer{display:none;}
      #print-cover-page{display:block;}
      #header-hidden-for-print{display:none;}

      .usa-logo-img {display:none}
      .usa-prose h1 { break-before: page; }
      nav.usa-nav {display: none;}
      div.usa-navbar {border: none;}
      .usa-banner {display: none;}
      
      button.usa-menu-btn {display: none;}
      main {margin-top: 33%}
      div h1.text-primary{
        padding-top: 1em;
        page-break-after: auto;
      }
      section.bg-primary {
        background-color: white;
        border-bottom: 1px solid black;
      }
      section.bg-primary h1 {
        margin-top: .125in;
      }
      section.bg-primary span {
        color: black;
      }
      table {break-inside: avoid; }
      @page {
       
        margin-top: 0.5in;
        margin-left: .75in;
        margin-right: .75in;
        margin-bottom: 0.6in;
      }
    
  }
  </style>

